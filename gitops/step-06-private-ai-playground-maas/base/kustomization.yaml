apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Step 06: GenAI Playground
# Deploys the LlamaStack backend for the GenAI Studio Playground UI.
#
# Architecture:
#   ┌─────────────────────────────────────────────────────────────────────────┐
#   │                          RHOAI Dashboard                                 │
#   │   ┌──────────────────────────────────────────────────────────────────┐  │
#   │   │                   GenAI Studio > Playground                       │  │
#   │   │   - Select model from dropdown (5 models available)              │  │
#   │   │   - Test prompts interactively                                   │  │
#   │   │   - Compare model responses                                      │  │
#   │   └──────────────────────────────────────────────────────────────────┘  │
#   │                                    │                                     │
#   │                                    ▼                                     │
#   │   ┌──────────────────────────────────────────────────────────────────┐  │
#   │   │                    LlamaStackDistribution                         │  │
#   │   │              (lsd-genai-playground - port 8321)                  │  │
#   │   │                                                                   │  │
#   │   │   5 vLLM Providers → 5 InferenceServices (Step-05)               │  │
#   │   └──────────────────────────────────────────────────────────────────┘  │
#   └─────────────────────────────────────────────────────────────────────────┘
#
# Prerequisites:
#   - Step-05 InferenceServices deployed with AI Asset labels
#   - genAiStudio: true in OdhDashboardConfig (step-02)
#   - llamastackoperator: Managed in DataScienceCluster (step-02)
#
# Ref: https://docs.redhat.com/en/documentation/red_hat_openshift_ai_self-managed/3.0/html-single/experimenting_with_models_in_the_gen_ai_playground/index

resources:
  # ═══════════════════════════════════════════════════════════════════════════
  # Playground Backend (LlamaStack) - sync-wave: 4-5
  # ═══════════════════════════════════════════════════════════════════════════
  # Deploys:
  #   - LlamaStackDistribution CR
  #   - llama-stack-config ConfigMap (5 model providers)
  # ═══════════════════════════════════════════════════════════════════════════
  - playground/

  # ═══════════════════════════════════════════════════════════════════════════
  # Model-as-a-Service (MaaS) - NOT AVAILABLE in RHOAI 3.0
  # ═══════════════════════════════════════════════════════════════════════════
  # The InferenceGateway CRD is not available in RHOAI 3.0.
  # MaaS is in Developer Preview and may be available in future versions.
  #
  # For now, use direct InferenceService URLs for API access:
  #   curl https://mistral-3-int4-private-ai.apps.<cluster>/v1/chat/completions
  #
  # Uncomment when InferenceGateway CRD becomes available:
  # - maas/
