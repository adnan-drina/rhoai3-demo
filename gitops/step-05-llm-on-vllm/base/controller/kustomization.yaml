apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# =============================================================================
# GPU Orchestrator Workbench
# =============================================================================
# Deploys a pre-configured workbench for the GPU-as-a-Service demo.
#
# Git-Sync Pattern:
#   Instead of storing the notebook in a ConfigMap (anti-pattern), an init
#   container clones the repository and copies notebooks to the PVC at startup.
#
# Components:
#   - Notebook: Jupyter workbench with git-sync init container
#   - PVC: Storage for workbench data (notebooks persist here)
#   - ServiceAccount + RBAC: Permissions to manage InferenceServices
#
# Usage:
#   1. Apply with: oc apply -k gitops/step-05-llm-on-vllm/base/controller/
#   2. Access via RHOAI Dashboard → private-ai → gpu-orchestrator-wb
#   3. Open GPU-Orchestrator.ipynb and run cells
#
# Benefits of Git-Sync over ConfigMap:
#   - No 1MB size limit
#   - Single source of truth (version-controlled)
#   - User changes persist across restarts
#   - Clean YAML without embedded JSON
# =============================================================================

resources:
  - workbench.yaml


