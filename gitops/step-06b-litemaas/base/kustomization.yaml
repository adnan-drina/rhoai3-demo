apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ═══════════════════════════════════════════════════════════════════════════════
# Step 06B: LiteMaaS - Experimental MaaS Alternative
# ═══════════════════════════════════════════════════════════════════════════════
#
# ⚠️ EXPERIMENTAL: This is a proof-of-concept, NOT production-ready.
# 
# This step deploys LiteMaaS as an alternative to the official RHOAI MaaS
# (which is Developer Preview and requires additional infrastructure).
#
# Components:
#   1. Namespace (litemaas) - Isolated from private-ai
#   2. PostgreSQL - Stores subscriptions, API keys, usage data
#   3. LiteLLM - Unified model proxy (routes to private-ai InferenceServices)
#   4. LiteMaaS - Self-service portal (backend + frontend)
#
# Architecture:
#   ┌─────────────────────────────────────────────────────────────────────────┐
#   │                        litemaas namespace                                │
#   │                                                                          │
#   │   User → LiteMaaS UI → LiteMaaS API → LiteLLM → InferenceServices       │
#   │                             │                    (in private-ai)         │
#   │                             ▼                                            │
#   │                        PostgreSQL                                        │
#   └─────────────────────────────────────────────────────────────────────────┘
#
# Cleanup:
#   oc delete namespace litemaas
#
# Ref: https://github.com/rh-aiservices-bu/litemaas
#
# ═══════════════════════════════════════════════════════════════════════════════

resources:
  # sync-wave: 1 - Namespace
  - namespace/
  
  # sync-wave: 1-2 - PostgreSQL database
  - postgres/
  
  # sync-wave: 2-3 - LiteLLM proxy
  - litellm/
  
  # sync-wave: 3-5 - LiteMaaS application
  - litemaas/

